<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>기업 공고 작성 - 기업이음</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* 사용자 정의 폰트 및 스타일 */
      body {
        font-family: "Noto Sans KR", sans-serif;
      }
      .custom-input {
        display: none;
      }
      .custom-input.show {
        display: block;
      }
    </style>
  </head>
  <body class="bg-gray-100">
    <div class="max-w-sm mx-auto bg-white shadow-lg min-h-screen">
      <!-- 상단 바 -->
      <header
        class="sticky top-0 z-10 p-4 flex justify-between items-center bg-white shadow-sm"
      >
        <button class="p-2" onclick="history.back()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M15 19l-7-7 7-7"
            />
          </svg>
        </button>
        <h1 class="text-xl font-bold text-gray-800">기업 공고 작성</h1>
        <div class="w-8">
          <!-- 오른쪽 공간 맞춤용 빈 div -->
        </div>
      </header>

      <!-- 메인 컨텐츠 -->
      <main class="p-4 bg-white pb-24">
        <form
          method="POST"
          action="{{ url_for('company.create_company_job') }}"
        >
          <!-- 모집조건 -->
          <section class="mb-6">
            <h4
              class="text-lg font-bold text-gray-800 mb-3 pb-2 border-b-2 border-blue-800"
            >
              모집조건
            </h4>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >채용 제목 <span class="text-red-500">*</span></label
              >
              <input
                type="text"
                name="title"
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                placeholder="예: 사무직 신입/경력 사원 모집"
                required
              />
            </div>
          </section>

          <!-- 직무 내용 -->
          <section class="mb-6">
            <h4
              class="text-lg font-bold text-gray-800 mb-3 pb-2 border-b-2 border-blue-800"
            >
              직무 내용
            </h4>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >직무 분야 <span class="text-red-500">*</span></label
              >
              <div class="flex flex-wrap gap-2">
                <button
                  type="button"
                  class="px-4 py-2 border-2 border-gray-300 rounded-full text-sm font-medium text-gray-700 hover:border-blue-500 transition-colors"
                  data-value="사무직"
                  onclick="selectJobCategory(this)"
                >
                  사무직
                </button>
                <button
                  type="button"
                  class="px-4 py-2 border-2 border-gray-300 rounded-full text-sm font-medium text-gray-700 hover:border-blue-500 transition-colors"
                  data-value="생산/기술직"
                  onclick="selectJobCategory(this)"
                >
                  생산/기술직
                </button>
                <button
                  type="button"
                  class="px-4 py-2 border-2 border-gray-300 rounded-full text-sm font-medium text-gray-700 hover:border-blue-500 transition-colors"
                  data-value="서비스직"
                  onclick="selectJobCategory(this)"
                >
                  서비스직
                </button>
                <button
                  type="button"
                  class="px-4 py-2 border-2 border-gray-300 rounded-full text-sm font-medium text-gray-700 hover:border-blue-500 transition-colors"
                  data-value="기타"
                  onclick="selectJobCategory(this)"
                >
                  직접입력
                </button>
              </div>
              <input
                type="hidden"
                name="job_category"
                id="job_category"
                required
              />
              <div class="custom-input mt-3" id="custom_job_category">
                <input
                  type="text"
                  name="job_category_custom"
                  class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                  placeholder="직무 분야를 직접 입력해주세요"
                />
              </div>
            </div>
          </section>

          <!-- 임금 -->
          <section class="mb-6">
            <h4
              class="text-lg font-bold text-gray-800 mb-3 pb-2 border-b-2 border-blue-800"
            >
              임금
            </h4>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >급여 범위 (만원 단위)</label
              >
              <div class="flex items-center gap-2">
                <input
                  type="number"
                  name="salary_min"
                  class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-center"
                  placeholder="최소"
                  min="0"
                  max="10000"
                />
                <span class="text-gray-500">~</span>
                <input
                  type="number"
                  name="salary_max"
                  class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-center"
                  placeholder="최대"
                  min="0"
                  max="10000"
                />
                <span class="text-gray-500">만원</span>
              </div>
              <div class="mt-3">
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="salary_negotiable"
                    id="salary_negotiable"
                    onchange="toggleSalaryNegotiable(this)"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm font-medium text-gray-700">협의</span>
                </label>
              </div>
              <p class="text-xs text-gray-500 mt-2">
                협의를 선택하면 급여 범위는 무시됩니다.
              </p>
            </div>
          </section>

          <!-- 경력 -->
          <section class="mb-6">
            <h4
              class="text-lg font-bold text-gray-800 mb-3 pb-2 border-b-2 border-blue-800"
            >
              경력
            </h4>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >경력 요구사항</label
              >
              <div class="flex gap-2">
                <button
                  type="button"
                  class="flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-blue-500 transition-colors"
                  data-value="무관"
                  onclick="selectExperience(this)"
                >
                  경력 무관
                </button>
                <button
                  type="button"
                  class="flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-blue-500 transition-colors"
                  data-value="경력직"
                  onclick="selectExperience(this)"
                >
                  경력직
                </button>
              </div>
              <input
                type="hidden"
                name="experience_required"
                id="experience_required"
              />
            </div>
          </section>

          <!-- 복리후생 -->
          <section class="mb-6">
            <h4
              class="text-lg font-bold text-gray-800 mb-3 pb-2 border-b-2 border-blue-800"
            >
              복리후생
            </h4>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >제공 혜택</label
              >
              <div class="grid grid-cols-2 gap-2">
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="benefit_commute_bus"
                    id="benefit_commute_bus"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm">통근버스</span>
                </label>
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="benefit_lunch"
                    id="benefit_lunch"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm">중식제공</span>
                </label>
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="benefit_uniform"
                    id="benefit_uniform"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm">근무복 제공</span>
                </label>
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="benefit_health_checkup"
                    id="benefit_health_checkup"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm">정기 건강검진</span>
                </label>
              </div>
              <div class="mt-4">
                <label class="block text-sm font-semibold text-gray-700 mb-2"
                  >기타 복리후생</label
                >
                <input
                  type="text"
                  name="benefit_other"
                  class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                  placeholder="예: 4대보험, 퇴직금, 성과급 등"
                />
              </div>
            </div>
          </section>

          <!-- 장애인용 복지시설 -->
          <section class="mb-6">
            <h4
              class="text-lg font-bold text-gray-800 mb-3 pb-2 border-b-2 border-blue-800"
            >
              장애인용 복지시설
            </h4>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >장애인 편의시설</label
              >
              <div class="grid grid-cols-2 gap-2">
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="disabled_parking"
                    id="disabled_parking"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm">장애인용 주차장</span>
                </label>
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="disabled_elevator"
                    id="disabled_elevator"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm">장애인용 승강기</span>
                </label>
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="disabled_ramp"
                    id="disabled_ramp"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm">건물 내부 경사로</span>
                </label>
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="disabled_restroom"
                    id="disabled_restroom"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm">장애인용 화장실</span>
                </label>
              </div>
            </div>
          </section>

          <!-- 고용형태 및 근무조건 -->
          <section class="mb-6">
            <h4
              class="text-lg font-bold text-gray-800 mb-3 pb-2 border-b-2 border-blue-800"
            >
              고용형태 및 근무조건
            </h4>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >고용형태</label
              >
              <select
                name="recruitment_type"
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white"
              >
                <option value="">선택하세요</option>
                <option value="정규직">정규직</option>
                <option value="계약직">계약직</option>
                <option value="파트타임">파트타임</option>
                <option value="아르바이트">아르바이트</option>
                <option value="인턴">인턴</option>
                <option value="프리랜서">프리랜서</option>
              </select>
            </div>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >근무 요일</label
              >
              <div class="grid grid-cols-4 gap-2">
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="work_monday"
                    id="monday"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm font-medium">월</span>
                </label>
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="work_tuesday"
                    id="tuesday"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm font-medium">화</span>
                </label>
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="work_wednesday"
                    id="wednesday"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm font-medium">수</span>
                </label>
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="work_thursday"
                    id="thursday"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm font-medium">목</span>
                </label>
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="work_friday"
                    id="friday"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm font-medium">금</span>
                </label>
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="work_saturday"
                    id="saturday"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm font-medium">토</span>
                </label>
                <label
                  class="flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer"
                >
                  <input
                    type="checkbox"
                    name="work_sunday"
                    id="sunday"
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm font-medium">일</span>
                </label>
              </div>
            </div>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >일하는 시간</label
              >
              <div class="flex items-center gap-2">
                <input
                  type="time"
                  name="work_start_time"
                  class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                />
                <span class="text-gray-500">~</span>
                <input
                  type="time"
                  name="work_end_time"
                  class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                />
              </div>
              <p class="text-xs text-gray-500 mt-2">
                근무 시간을 입력하지 않으면 '시간 협의'로 표시됩니다.
              </p>
            </div>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >모집인원</label
              >
              <input
                type="number"
                name="recruitment_count"
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                placeholder="예: 2"
                min="1"
              />
            </div>
          </section>

          <!-- 상세정보 -->
          <section class="mb-6">
            <h4
              class="text-lg font-bold text-gray-800 mb-3 pb-2 border-b-2 border-blue-800"
            >
              상세정보
            </h4>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >회사명 <span class="text-red-500">*</span></label
              >
              <input
                type="text"
                name="company"
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                placeholder="예: (주)테크놀로지"
                required
              />
            </div>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >상세 설명 <span class="text-red-500">*</span></label
              >
              <textarea
                name="description"
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-32 resize-none"
                placeholder="• 주요 업무 내용&#10;• 자격 요건&#10;• 우대 사항&#10;• 기타 안내사항"
                required
              ></textarea>
            </div>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >근무지역</label
              >
              <input
                type="text"
                name="region"
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                placeholder="예: 서울시 강남구 테헤란로 123"
              />
            </div>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >연락처</label
              >
              <input
                type="tel"
                name="contact_phone"
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                placeholder="예: 02-1234-5678"
              />
            </div>
          </section>

          <!-- 모집기간 -->
          <section class="mb-6">
            <h4
              class="text-lg font-bold text-gray-800 mb-3 pb-2 border-b-2 border-blue-800"
            >
              모집기간
            </h4>

            <div class="mb-4">
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >모집 기간</label
              >
              <div class="flex items-center gap-2">
                <input
                  type="date"
                  name="recruitment_start_date"
                  class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                />
                <span class="text-gray-500">~</span>
                <input
                  type="date"
                  name="recruitment_end_date"
                  class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                />
              </div>
              <p class="text-xs text-gray-500 mt-2">
                모집 기간을 설정하지 않으면 상시 모집으로 표시됩니다.
              </p>
            </div>
          </section>

          <!-- 제출 버튼 -->
          <section class="flex gap-3">
            <button
              type="submit"
              class="flex-1 bg-blue-800 hover:bg-blue-900 text-white font-bold py-3 px-4 rounded-lg transition-colors"
            >
              공고 등록하기
            </button>
            <button
              type="button"
              class="flex-1 bg-gray-400 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition-colors"
              onclick="history.back()"
            >
              취소
            </button>
          </section>
        </form>
      </main>

      <!-- 하단 네비게이션 -->
      <footer
        class="fixed bottom-0 left-0 right-0 max-w-sm mx-auto bg-gray-50 border-t flex justify-around"
      >
        <a
          href="#"
          class="flex-1 flex flex-col items-center justify-center p-2 text-gray-500"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/map.png') }}"
              alt="지도"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs">지도</span>
        </a>
        <a
          href="{{ url_for('jobs.bookmark_list') }}"
          class="flex-1 flex flex-col items-center justify-center p-2 text-gray-500"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/favorite.png') }}"
              alt="찜"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs">찜</span>
        </a>
        <a
          href="{{ url_for('auth.main') }}"
          class="flex-1 flex flex-col items-center justify-center p-2 text-gray-500"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/home.png') }}"
              alt="홈"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs">홈</span>
        </a>
        <a
          href="{{ url_for('chat.chat_list') }}"
          class="flex-1 flex flex-col items-center justify-center p-2 text-gray-500"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/chatting.png') }}"
              alt="채팅"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs">채팅</span>
        </a>
        <a
          href="{{ url_for('auth.profile') }}"
          class="flex-1 flex flex-col items-center justify-center p-2 text-gray-500"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/profile.png') }}"
              alt="내정보"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs">내정보</span>
        </a>
      </footer>
    </div>

    <script>
      // 직무 분야 선택
      function selectJobCategory(button) {
        // 모든 버튼 비활성화
        document
          .querySelectorAll(".flex.flex-wrap.gap-2 button[data-value]")
          .forEach((btn) => {
            btn.classList.remove(
              "border-blue-500",
              "bg-blue-500",
              "text-white"
            );
            btn.classList.add("border-gray-300", "text-gray-700");
          });

        // 선택된 버튼 활성화
        button.classList.remove("border-gray-300", "text-gray-700");
        button.classList.add("border-blue-500", "bg-blue-500", "text-white");

        const value = button.getAttribute("data-value");
        document.getElementById("job_category").value = value;

        // 직접입력인 경우 입력창 표시
        const customInput = document.getElementById("custom_job_category");
        if (value === "기타") {
          customInput.classList.add("show");
          customInput.querySelector("input").required = true;
        } else {
          customInput.classList.remove("show");
          customInput.querySelector("input").required = false;
          customInput.querySelector("input").value = "";
        }
      }

      // 경력 선택
      function selectExperience(button) {
        // 모든 경력 버튼 비활성화
        button.parentElement.querySelectorAll("button").forEach((btn) => {
          btn.classList.remove("border-blue-500", "bg-blue-500", "text-white");
          btn.classList.add("border-gray-300", "text-gray-700");
        });

        // 선택된 버튼 활성화
        button.classList.remove("border-gray-300", "text-gray-700");
        button.classList.add("border-blue-500", "bg-blue-500", "text-white");

        const value = button.getAttribute("data-value");
        document.getElementById("experience_required").value = value;
      }

      // 임금 협의 토글
      function toggleSalaryNegotiable(checkbox) {
        const salaryInputs = document.querySelectorAll(
          "input[name='salary_min'], input[name='salary_max']"
        );
        if (checkbox.checked) {
          salaryInputs.forEach((input) => {
            input.disabled = true;
            input.value = "";
            input.classList.add("bg-gray-100");
          });
        } else {
          salaryInputs.forEach((input) => {
            input.disabled = false;
            input.classList.remove("bg-gray-100");
          });
        }
      }

      // 체크박스 스타일 업데이트
      document
        .querySelectorAll('label input[type="checkbox"]')
        .forEach((checkbox) => {
          checkbox.addEventListener("change", function () {
            const label = this.closest("label");
            if (this.checked) {
              label.classList.add("border-blue-500", "bg-blue-50");
              label.classList.remove("border-gray-300");
            } else {
              label.classList.remove("border-blue-500", "bg-blue-50");
              label.classList.add("border-gray-300");
            }
          });
        });

      // 폼 제출 전 유효성 검사
      document.querySelector("form").addEventListener("submit", function (e) {
        const title = document
          .querySelector('input[name="title"]')
          .value.trim();
        const company = document
          .querySelector('input[name="company"]')
          .value.trim();
        const description = document
          .querySelector('textarea[name="description"]')
          .value.trim();
        const jobCategory = document.getElementById("job_category").value;

        if (!title || !company || !description) {
          e.preventDefault();
          alert("채용 제목, 회사명, 상세 설명은 필수 입력 항목입니다.");
          return false;
        }

        if (!jobCategory) {
          e.preventDefault();
          alert("직무 분야를 선택해주세요.");
          return false;
        }

        // 제출 버튼 비활성화 (중복 제출 방지)
        const submitBtn = document.querySelector("button[type='submit']");
        submitBtn.disabled = true;
        submitBtn.textContent = "등록 중...";
        submitBtn.classList.add("opacity-50", "cursor-not-allowed");
      });

      // 페이지 로드 시 오늘 날짜를 기본값으로 설정
      document.addEventListener("DOMContentLoaded", function () {
        const today = new Date().toISOString().split("T")[0];
        const startDateInput = document.querySelector(
          'input[name="recruitment_start_date"]'
        );
        if (startDateInput) {
          startDateInput.value = today;
        }
      });
    </script>
  </body>
</html>
