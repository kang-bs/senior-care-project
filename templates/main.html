<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì´ìŒ - ì‹œë‹ˆì–´ ì¼ìë¦¬ë¦¬</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* ì‚¬ìš©ì ì •ì˜ í°íŠ¸ ë° ìŠ¤íƒ€ì¼ */
      body {
        font-family: "Noto Sans KR", sans-serif;
      }
      .laundry-gothic {
        font-family: "LaundryGothic", "Noto Sans KR", sans-serif; /* 'LaundryGothic' í°íŠ¸ê°€ ì—†ì„ ê²½ìš° Noto Sans KRë¡œ ëŒ€ì²´ */
      }
      /* ì–¼êµ´ í† ê¸€ ìŠ¤ìœ„ì¹˜ ìŠ¤íƒ€ì¼ */
      :root {
        --toggle-bg: #ffffff;
        --face-color: #64748b;
      }

      body.toggle-active {
        --toggle-bg: #c1e1c1;
        --face-color: #4a5568;
      }

      .toggle-container {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .toggle-text {
        font-size: 1.5rem;
        font-weight: bold;
        color: #1e3a8a;
        transition: color 0.3s;
      }

      .toggle-container.active .toggle-text {
        color: #059669;
      }

      /* ë³µì¡í•œ í† ê¸€ ì• ë‹ˆë©”ì´ì…˜ */
      #face-toggle:checked + label .toggle-handle {
        transform: translateX(24px);
      }

      #face-toggle:checked + label .roller {
        transform: rotate(360deg);
      }

      #face-toggle:checked + label .face-front {
        opacity: 0;
        transition: opacity 0.1s linear 0.5s;
      }

      #face-toggle:checked + label .face-back {
        opacity: 1;
        transition: opacity 0.1s linear 0.5s;
      }

      /* ì–¼êµ´ í‘œì • ì„¸ë¶€ì‚¬í•­ */
      .face-front .eye {
        width: 3px;
        height: 2px;
        top: 10px;
      }
      .face-front .eye.left {
        left: 6px;
      }
      .face-front .eye.right {
        right: 6px;
      }

      .face-front .mouth {
        width: 3.5px;
        height: 3px;
        bottom: 7px;
        left: 50%;
        transform: translateX(-50%);
      }

      .face-back .eye {
        width: 2.5px;
        height: 2.5px;
        top: 10px;
      }
      .face-back .eye.left {
        left: 6.5px;
      }
      .face-back .eye.right {
        right: 6.5px;
      }

      .face-back .mouth {
        width: 3.5px;
        height: 3px;
        bottom: 7px;
        left: 50%;
        transform: translateX(-50%);
        border-bottom: 1px solid var(--face-color);
        border-radius: 50%;
        position: absolute;
      }
    </style>
  </head>
  <body class="bg-gray-50">
    <div class="w-full bg-white shadow-lg min-h-screen max-w-md mx-auto">
      <!-- ìƒë‹¨ ê³ ì • ì˜ì—­ -->
      <div class="sticky top-0 z-10 bg-white shadow-sm">
        <!-- ìƒë‹¨ ë°” -->
        <header class="px-4 py-3 sm:px-6 flex justify-between items-center">
          <div class="flex items-center">
            <div class="w-8 h-8 mr-2 flex items-center justify-center">
              <img
                src="{{ url_for('static', filename='images/header/logo.png') }}"
                alt="ë¡œê³ "
                class="max-w-full max-h-full object-contain"
              />
            </div>
            <div class="toggle-container" id="toggleContainer">
              <span class="toggle-text" id="toggleText">ì´ìŒ</span>
              <div class="relative w-[50px] h-[26px]">
                <input type="checkbox" id="face-toggle" class="hidden" />
                <label
                  for="face-toggle"
                  class="block w-full h-full cursor-pointer relative border border-gray-300 p-[1.5px] transition-colors duration-500 ease-in-out rounded-[13px]"
                  style="background-color: var(--toggle-bg)"
                >
                  <div
                    class="toggle-handle relative w-[22px] h-[22px] bg-transparent rounded-full transition-transform duration-[600ms] ease-in-out"
                  >
                    <div
                      class="roller relative w-full h-full transition-transform duration-[600ms] ease-in-out"
                    >
                      <!-- ì•ë©´ (ë‚® ëª¨ë“œ) -->
                      <div
                        class="face-front absolute w-full h-full flex justify-center items-center bg-white rounded-full shadow-sm opacity-100 transition-opacity duration-100 linear"
                      >
                        <div
                          class="face-feature eye left absolute border-b-[1px] rounded-full transition-colors duration-500 ease-in-out"
                          style="border-color: var(--face-color)"
                        ></div>
                        <div
                          class="face-feature eye right absolute border-b-[1px] rounded-full transition-colors duration-500 ease-in-out"
                          style="border-color: var(--face-color)"
                        ></div>
                        <div
                          class="face-feature mouth absolute border-b-[1px] rounded-full transition-colors duration-500 ease-in-out"
                          style="border-color: var(--face-color)"
                        ></div>
                      </div>
                      <!-- ë’·ë©´ (ë°¤ ëª¨ë“œ) -->
                      <div
                        class="face-back absolute w-full h-full flex justify-center items-center bg-white rounded-full shadow-sm opacity-0 transition-opacity duration-100 linear"
                      >
                        <div
                          class="face-feature eye left absolute rounded-full transition-colors duration-500 ease-in-out"
                          style="background-color: var(--face-color)"
                        ></div>
                        <div
                          class="face-feature eye right absolute rounded-full transition-colors duration-500 ease-in-out"
                          style="background-color: var(--face-color)"
                        ></div>
                        <div
                          class="face-feature mouth absolute rounded-full transition-colors duration-500 ease-in-out"
                          style="border-color: var(--face-color)"
                        ></div>
                      </div>
                    </div>
                  </div>
                </label>
              </div>
            </div>
          </div>
          <div class="flex items-center space-x-3 sm:space-x-4">
            <div class="w-6 h-6 flex items-center justify-center">
              <img
                src="{{ url_for('static', filename='images/header/mic.png') }}"
                alt="ë§ˆì´í¬"
                class="max-w-full max-h-full object-contain"
              />
            </div>
            <div class="w-6 h-6 flex items-center justify-center">
              <img
                src="{{ url_for('static', filename='images/header/search.png') }}"
                alt="ê²€ìƒ‰"
                class="max-w-full max-h-full object-contain"
              />
            </div>
          </div>
        </header>

        <!-- ë„¤ë¹„ê²Œì´ì…˜ íƒ­ -->
        <nav class="flex border-b">
          <a
            href="#"
            class="flex-1 text-center py-3 border-b-4 border-blue-900 text-blue-900 font-bold"
            >ë‚˜ì˜ ì´ìŒ</a
          >
          <a
            href="{{ url_for('company.company_list') }}"
            class="flex-1 text-center py-3 text-gray-500"
            >ê¸°ì—… ì´ìŒ</a
          >
          <a
            href="{{ url_for('jobs.job_list') }}"
            class="flex-1 text-center py-3 text-gray-500"
            >ì‚¬ëŒ ì´ìŒ</a
          >
        </nav>
      </div>

      <!-- ë©”ì¸ ì»¨í…ì¸  -->
      <main class="px-4 py-4 sm:px-6 bg-gray-50 pb-24">
        <!-- ìœ„ì¹˜ ì •ë³´ -->
        <section class="mb-6">
          <div class="flex items-center text-gray-700">
            <svg
              class="w-5 h-5 mr-2 text-blue-600"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                fill-rule="evenodd"
                d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
                clip-rule="evenodd"
              />
            </svg>
            <span class="text-lg font-medium">ê²½ìƒë¶ë„ ê²½ì‚°ì‹œ ì¡°ì˜ë™</span>
            <svg
              class="w-4 h-4 ml-2 text-gray-400"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"
              />
            </svg>
          </div>
        </section>

        <!-- ì£¼ìš” ê¸°ëŠ¥ ë²„íŠ¼ë“¤ -->
        <section class="mb-8">
          <div class="grid grid-cols-2 gap-4">
            <!-- ì´ë ¥ì„œ ì‘ì„± -->
            <a
              href="{{ url_for('auth.profile') }}"
              class="bg-blue-600 rounded-2xl p-4 text-white flex items-center"
            >
              <div
                class="w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center mr-3"
              >
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" />
                  <path
                    fill-rule="evenodd"
                    d="M4 5a2 2 0 012-2v1a2 2 0 002 2h4a2 2 0 002-2V3a2 2 0 012 2v6.5a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 014 11.5V5z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
              <span class="font-bold">ì´ë ¥ì„œ ì‘ì„±</span>
            </a>

            <!-- êµ¬ì¸ê¸€ ì‘ì„± -->
            <a
              href="{{ url_for('jobs.create_job') }}"
              class="bg-red-500 rounded-2xl p-4 text-white flex items-center"
            >
              <div
                class="w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center mr-3"
              >
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path
                    fill-rule="evenodd"
                    d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
              <span class="font-bold">êµ¬ì¸ê¸€ ì‘ì„±</span>
            </a>

            <!-- ê³µê³  ê²€ìƒ‰ -->
            <a
              href="{{ url_for('jobs.job_list') }}"
              class="bg-blue-500 rounded-2xl p-4 text-white flex items-center"
            >
              <div
                class="w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center mr-3"
              >
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path
                    fill-rule="evenodd"
                    d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
              <span class="font-bold">ê³µê³  ê²€ìƒ‰</span>
            </a>

            <!-- ì´ìŒ ë‰´ìŠ¤ -->
            <a
              href="{{ url_for('news.news_list') }}"
              class="bg-gray-600 rounded-2xl p-4 text-white flex items-center"
            >
              <div
                class="w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center mr-3"
              >
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path
                    fill-rule="evenodd"
                    d="M2 5a2 2 0 012-2h8a2 2 0 012 2v10a2 2 0 002 2H4a2 2 0 01-2-2V5zm3 1h6v4H5V6zm6 6H5v2h6v-2z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
              <span class="font-bold">ì´ìŒ ë‰´ìŠ¤</span>
            </a>
          </div>
        </section>

        <!-- ê´€ë¦¬ì ì „ìš© ìŠ¹ì¸ê´€ë¦¬ ë²„íŠ¼ -->
        {% if current_user.user_type == 2 %}
        <section class="mb-6">
          <div class="bg-orange-500 rounded-2xl p-4 text-white">
            <div class="flex items-center mb-2">
              <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 20 20">
                <path
                  fill-rule="evenodd"
                  d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                  clip-rule="evenodd"
                />
              </svg>
              <span class="font-bold text-lg">ê´€ë¦¬ì ë©”ë‰´</span>
            </div>
            <a
              href="{{ url_for('admin.pending_companies') }}"
              class="block bg-white bg-opacity-20 rounded-xl p-3 text-center font-bold hover:bg-opacity-30 transition-all"
            >
              ê¸°ì—…íšŒì› ìŠ¹ì¸/ê±°ë¶€ í˜ì´ì§€
            </a>
          </div>
        </section>
        {% endif %}

        <!-- AI ì¶”ì²œ -->
        <section class="mb-8">
          <div class="flex items-center mb-4">
            <span
              class="bg-blue-100 text-blue-800 text-sm font-bold px-3 py-1 rounded-full mr-3"
              >AI ì¶”ì²œ</span
            >
          </div>
          <div class="bg-white rounded-2xl p-4 shadow-sm border">
            <div class="flex items-center mb-3">
              <span class="text-red-500 text-lg mr-2">ğŸ“Œ</span>
              <span class="font-bold text-gray-800"
                >ì² ì›ë‹˜ì´ ì°¾ìœ¼ì‹¤ë§Œí•œ ê³µê³ ì˜ˆìš”!</span
              >
            </div>
            {% if company_jobs %} {% for job_data in company_jobs[:2] %} {% set
            job = job_data.job %} {% set status = job_data.application_status %}
            <div
              class="border-b border-gray-100 pb-4 mb-4 last:border-b-0 last:pb-0 last:mb-0 cursor-pointer"
              onclick="location.href='{{ url_for('company.company_job_detail', job_id=job.id) }}'"
            >
              <div class="flex items-start justify-between mb-2">
                <div class="flex items-start">
                  <div
                    class="w-8 h-8 bg-gray-200 rounded-full mr-3 flex items-center justify-center text-gray-600 text-sm font-bold"
                  >
                    {{ job.company[0] if job.company else 'ê¸°' }}
                  </div>
                  <div>
                    <p class="text-sm text-gray-600">{{ job.company }}</p>
                    <h3 class="font-bold text-base">{{ job.title }}</h3>
                    <p class="text-blue-600 font-bold">
                      ì›”ê¸‰ {{ job.salary or '3,000,000ì›' }}
                    </p>
                  </div>
                </div>
                <div class="text-right">
                  <p class="text-xs text-gray-500">
                    {{ job.created_at.strftime('~%m/%d (%a)') }}
                  </p>
                  <button class="mt-1 text-gray-400 hover:text-red-500">
                    <svg
                      class="w-5 h-5"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </button>
                </div>
              </div>
              <div class="flex items-center justify-between">
                <div class="flex space-x-2">
                  <span
                    class="bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded"
                    >{{ job.recruitment_type or 'ì •ì§ì›' }}</span
                  >
                  <span
                    class="bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded"
                    >{{ job.work_period or 'ìƒì£¼ì§' }}</span
                  >
                </div>
                {% if current_user.user_type == 0 %} {% if status.applied %}
                <button
                  class="bg-green-500 text-white font-bold py-2 px-4 rounded-full text-sm"
                  onclick="event.stopPropagation(); goToChat({{ job.id }})"
                >
                  ì±„íŒ…í•˜ê¸°
                </button>
                {% else %}
                <button
                  class="bg-blue-600 text-white font-bold py-2 px-4 rounded-full text-sm"
                  onclick="event.stopPropagation(); applyJob({{ job.id }})"
                >
                  ì§€ì›í•˜ê¸°
                </button>
                {% endif %} {% endif %}
              </div>
            </div>
            {% endfor %} {% else %}
            <p class="text-gray-500 text-center py-4">
              ë“±ë¡ëœ ê¸°ì—… ê³µê³ ê°€ ì—†ìŠµë‹ˆë‹¤.
            </p>
            {% endif %}

            <div class="text-center mt-4">
              <a
                href="{{ url_for('company.company_list') }}"
                class="text-blue-600 text-sm font-medium"
              >
                ë” ë§ì€ ê³µê³  ë³´ê¸° â†’
              </a>
            </div>
          </div>
        </section>

        <!-- ì‹œê°„ëŒ€ë³„ ê³µê³  -->
        <section>
          <div class="flex items-center mb-4">
            <span
              class="bg-yellow-100 text-yellow-800 text-sm font-bold px-3 py-1 rounded-full mr-3"
              >ì‹œê°„ëŒ€</span
            >
          </div>
          <div class="bg-white rounded-2xl p-4 shadow-sm border">
            <div class="flex items-center mb-3">
              <span class="text-yellow-500 text-lg mr-2">ğŸ‘‘</span>
              <span class="font-bold text-gray-800"
                >ì¡°ì˜ë™ì˜ ì‹¤ì‹œê°„ ê³µê³ ì˜ˆìš”!</span
              >
            </div>
            {% if people_jobs %} {% for job_data in people_jobs[:2] %} {% set
            job = job_data.job %} {% set status = job_data.application_status %}
            <div
              class="border-b border-gray-100 pb-4 mb-4 last:border-b-0 last:pb-0 last:mb-0 cursor-pointer"
              onclick="location.href='{{ url_for('jobs.job_detail', job_id=job.id) }}'"
            >
              <div class="flex items-start justify-between mb-2">
                <div class="flex items-start">
                  <div
                    class="w-8 h-8 bg-gray-200 rounded-full mr-3 flex items-center justify-center text-gray-600 text-sm font-bold"
                  >
                    {{ job.author.nickname[0] if job.author.nickname else 'ì‚¬'
                    }}
                  </div>
                  <div>
                    <p class="text-sm text-gray-600">
                      {{ job.author.nickname or 'ìµëª…' }}
                    </p>
                    <h3 class="font-bold text-base">{{ job.title }}</h3>
                    <p class="text-blue-600 font-bold">
                      {{ job.salary or '50,000ì›' }}
                    </p>
                  </div>
                </div>
                <div class="text-right">
                  <p class="text-xs text-gray-500">
                    {{ job.created_at.strftime('%mì›” %dì¼') }}
                  </p>
                  <button class="mt-1 text-gray-400 hover:text-red-500">
                    <svg
                      class="w-5 h-5"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </button>
                </div>
              </div>
              <div class="flex items-center justify-between">
                <div class="flex space-x-2">
                  <span
                    class="bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded"
                    >ì˜¤ëŠ˜</span
                  >
                  <span
                    class="bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded"
                    >{{ job.work_period or 'ì‹œê°„ëŒ€ë³„' }}</span
                  >
                </div>
                {% if current_user.user_type == 0 %} {% if current_user.id ==
                job.author_id %}
                <button
                  class="bg-gray-400 text-white font-bold py-2 px-4 rounded-full text-sm cursor-not-allowed"
                  disabled
                >
                  ë‚´ ê³µê³ 
                </button>
                {% elif status.applied %}
                <button
                  class="bg-green-500 text-white font-bold py-2 px-4 rounded-full text-sm"
                  onclick="event.stopPropagation(); goToChat({{ job.id }})"
                >
                  ì±„íŒ…í•˜ê¸°
                </button>
                {% else %}
                <button
                  class="bg-blue-600 text-white font-bold py-2 px-4 rounded-full text-sm"
                  onclick="event.stopPropagation(); applyJob({{ job.id }})"
                >
                  ì§€ì›í•˜ê¸°
                </button>
                {% endif %} {% endif %}
              </div>
            </div>
            {% endfor %} {% else %}
            <p class="text-gray-500 text-center py-4">
              ë“±ë¡ëœ ì‚¬ëŒ ì´ìŒ ê³µê³ ê°€ ì—†ìŠµë‹ˆë‹¤.
            </p>
            {% endif %}

            <div class="text-center mt-4">
              <a
                href="{{ url_for('jobs.job_list') }}"
                class="text-blue-600 text-sm font-medium"
              >
                ë” ë§ì€ ê³µê³  ë³´ê¸° â†’
              </a>
            </div>
          </div>
        </section>
      </main>

      <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
      <footer
        class="fixed bottom-0 left-0 right-0 w-full bg-gray-50 border-t flex justify-around max-w-md mx-auto"
      >
        <a
          href="{{ url_for('map.show_map') }}"
          class="flex-1 flex flex-col items-center justify-center p-2 text-gray-500"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/map.png') }}"
              alt="ì§€ë„"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs">ì§€ë„</span>
        </a>
        <a
          href="{{ url_for('jobs.bookmark_list') }}"
          class="flex-1 flex flex-col items-center justify-center p-2 text-gray-500"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/favorite.png') }}"
              alt="ì°œ"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs">ì°œ</span>
        </a>
        <a
          href="{{ url_for('auth.main') }}"
          class="flex-1 flex flex-col items-center justify-center p-2 text-blue-900"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/home_filled.png') }}"
              alt="í™ˆ"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs font-bold">í™ˆ</span>
        </a>
        <a
          href="{{ url_for('chat.chat_list') }}"
          class="flex-1 flex flex-col items-center justify-center p-2 text-gray-500"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/chatting.png') }}"
              alt="ì±„íŒ…"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs">ì±„íŒ…</span>
        </a>
        <a
          href="{{ url_for('auth.profile') }}"
          class="flex-1 flex flex-col items-center justify-center p-2 text-gray-500"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/profile.png') }}"
              alt="ë‚´ì •ë³´"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs">ë‚´ì •ë³´</span>
        </a>
      </footer>
    </div>
    <script>
      // ê³µê³  ì§€ì›í•˜ê¸° í•¨ìˆ˜
      async function applyJob(jobId) {
        if (
          !confirm(
            "ì´ ê³µê³ ì— ì§€ì›í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì§€ì›í•˜ë©´ ìë™ìœ¼ë¡œ ì±„íŒ…ë°©ì´ ìƒì„±ë©ë‹ˆë‹¤."
          )
        ) {
          return;
        }
        try {
          const response = await fetch(`/jobs/${jobId}/apply`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ message: "" }),
          });
          const data = await response.json();
          if (data.success) {
            alert(data.message);
            if (data.chat_room_id && confirm("ì±„íŒ…ë°©ìœ¼ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
              window.location.href = `/chat/${data.chat_room_id}`;
            } else {
              location.reload();
            }
          } else {
            alert(data.message || "ì§€ì› ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
          }
        } catch (error) {
          console.error("Error:", error);
          alert("ì§€ì› ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
        }
      }

      // ì±„íŒ…ë°©ìœ¼ë¡œ ì´ë™í•˜ëŠ” í•¨ìˆ˜
      async function goToChat(jobId) {
        try {
          const response = await fetch(`/chat/find-room/${jobId}`, {
            method: "GET",
          });
          const data = await response.json();
          if (data.success && data.room_id) {
            window.location.href = `/chat/${data.room_id}`;
          } else {
            alert("ì±„íŒ…ë°©ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
          }
        } catch (error) {
          console.error("Error:", error);
          alert("ì±„íŒ…ë°© ì´ë™ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
        }
      }

      // ì–¼êµ´ í† ê¸€ ìŠ¤ìœ„ì¹˜ ìƒíƒœ ê´€ë¦¬
      let isToggleActive = false;

      // í† ê¸€ ìŠ¤ìœ„ì¹˜ ê¸°ëŠ¥
      function updateToggleTheme() {
        const toggle = document.getElementById("face-toggle");
        const body = document.body;
        const container = document.getElementById("toggleContainer");
        const toggleText = document.getElementById("toggleText");

        if (toggle.checked) {
          body.classList.add("toggle-active");
          container.classList.add("active");
          isToggleActive = true;

          // 1ì´ˆ í›„ì— í† ê¸€ í˜ì´ì§€ë¡œ ì´ë™ (ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„)
          setTimeout(() => {
            window.location.href = "/toggle-page";
          }, 1000);
        } else {
          body.classList.remove("toggle-active");
          container.classList.remove("active");
          isToggleActive = false;
        }
      }

      // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
      document.addEventListener("DOMContentLoaded", function () {
        const toggle = document.getElementById("face-toggle");
        const urlParams = new URLSearchParams(window.location.search);

        // reset_toggle íŒŒë¼ë¯¸í„°ê°€ ìˆìœ¼ë©´ í† ê¸€ì„ ë¹„í™œì„±í™” ìƒíƒœë¡œ ì„¤ì •
        if (urlParams.get("reset_toggle") === "true") {
          toggle.checked = false;
          updateToggleTheme();
        }

        // í† ê¸€ ë³€ê²½ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        toggle.addEventListener("change", updateToggleTheme);

        // ì´ˆê¸° ìƒíƒœ ì„¤ì •
        updateToggleTheme();
      });
    </script>
  </body>
</html>
