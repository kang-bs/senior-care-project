<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>이음 - 초록 모드 시니어 일자리</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* 사용자 정의 폰트 및 스타일 */
      body {
        font-family: "Noto Sans KR", sans-serif;
      }
      .laundry-gothic {
        font-family: "LaundryGothic", "Noto Sans KR", sans-serif; /* 'LaundryGothic' 폰트가 없을 경우 Noto Sans KR로 대체 */
      }

      /* 초록 색상 정의 */
      .autumn-text-primary {
        color: #065f46;
      }
      .autumn-text-secondary {
        color: #047857;
      }
      .autumn-bg-primary {
        background-color: #065f46;
      }
      .autumn-bg-secondary {
        background-color: #10b981;
      }
      .autumn-border {
        border-color: #10b981;
      }
      .autumn-bg-light {
        background-color: #d1fae5;
      }

      /* 얼굴 토글 스위치 스타일 */
      :root {
        --toggle-bg: #ffffff;
        --face-color: #64748b;
      }

      body.toggle-active {
        --toggle-bg: #c1e1c1;
        --face-color: #4a5568;
      }

      .toggle-container {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .toggle-text {
        font-size: 1.5rem;
        font-weight: bold;
        color: #059669; /* 활성화된 상태 - 녹색 */
        transition: color 0.3s;
      }

      .toggle-container.active .toggle-text {
        color: #059669;
      }

      /* 복잡한 토글 애니메이션 */
      #autumn-face-toggle:checked + label .toggle-handle {
        transform: translateX(24px);
      }

      #autumn-face-toggle:checked + label .roller {
        transform: rotate(360deg);
      }

      #autumn-face-toggle:checked + label .face-front {
        opacity: 0;
        transition: opacity 0.1s linear 0.5s;
      }

      #autumn-face-toggle:checked + label .face-back {
        opacity: 1;
        transition: opacity 0.1s linear 0.5s;
      }

      /* 얼굴 표정 세부사항 */
      .face-front .eye {
        width: 3px;
        height: 2px;
        top: 10px;
      }
      .face-front .eye.left {
        left: 6px;
      }
      .face-front .eye.right {
        right: 6px;
      }

      .face-front .mouth {
        width: 3.5px;
        height: 3px;
        bottom: 7px;
        left: 50%;
        transform: translateX(-50%);
      }

      .face-back .eye {
        width: 2.5px;
        height: 2.5px;
        top: 10px;
      }
      .face-back .eye.left {
        left: 6.5px;
      }
      .face-back .eye.right {
        right: 6.5px;
      }

      .face-back .mouth {
        width: 3.5px;
        height: 3px;
        bottom: 7px;
        left: 50%;
        transform: translateX(-50%);
        border-bottom: 1px solid var(--face-color);
        border-radius: 50%;
        position: absolute;
      }
    </style>
  </head>
  <body>
    <div class="w-full bg-white shadow-lg min-h-screen">
      <!-- 상단 고정 영역 -->
      <div
        class="sticky top-0 z-10 bg-gradient-to-r from-green-100 to-emerald-100 shadow-lg"
      >
        <!-- 상단 바 -->
        <header class="px-4 py-3 sm:px-6 flex justify-between items-center">
          <div class="flex items-center">
            <div class="w-8 h-8 mr-2 flex items-center justify-center">
              <img
                src="{{ url_for('static', filename='images/header/logo.png') }}"
                alt="로고"
                class="max-w-full max-h-full object-contain"
              />
            </div>
            <div class="toggle-container" id="toggleContainer">
              <span class="toggle-text" id="toggleText">이음</span>
              <div class="relative w-[50px] h-[26px]">
                <input
                  type="checkbox"
                  id="autumn-face-toggle"
                  class="hidden"
                  checked
                />
                <label
                  for="autumn-face-toggle"
                  class="block w-full h-full cursor-pointer relative border border-gray-300 p-[1.5px] transition-colors duration-500 ease-in-out rounded-[13px]"
                  style="background-color: var(--toggle-bg)"
                >
                  <div
                    class="toggle-handle relative w-[22px] h-[22px] bg-transparent rounded-full transition-transform duration-[600ms] ease-in-out"
                  >
                    <div
                      class="roller relative w-full h-full transition-transform duration-[600ms] ease-in-out"
                    >
                      <!-- 앞면 (일반 모드) -->
                      <div
                        class="face-front absolute w-full h-full flex justify-center items-center bg-white rounded-full shadow-sm opacity-100 transition-opacity duration-100 linear"
                      >
                        <div
                          class="face-feature eye left absolute border-b-[1px] rounded-full transition-colors duration-500 ease-in-out"
                          style="border-color: var(--face-color)"
                        ></div>
                        <div
                          class="face-feature eye right absolute border-b-[1px] rounded-full transition-colors duration-500 ease-in-out"
                          style="border-color: var(--face-color)"
                        ></div>
                        <div
                          class="face-feature mouth absolute border-b-[1px] rounded-full transition-colors duration-500 ease-in-out"
                          style="border-color: var(--face-color)"
                        ></div>
                      </div>
                      <!-- 뒷면 (밤 모드) -->
                      <div
                        class="face-back absolute w-full h-full flex justify-center items-center bg-white rounded-full shadow-sm opacity-0 transition-opacity duration-100 linear"
                      >
                        <div
                          class="face-feature eye left absolute rounded-full transition-colors duration-500 ease-in-out"
                          style="background-color: var(--face-color)"
                        ></div>
                        <div
                          class="face-feature eye right absolute rounded-full transition-colors duration-500 ease-in-out"
                          style="background-color: var(--face-color)"
                        ></div>
                        <div
                          class="face-feature mouth absolute rounded-full transition-colors duration-500 ease-in-out"
                          style="border-color: var(--face-color)"
                        ></div>
                      </div>
                    </div>
                  </div>
                </label>
              </div>
            </div>
          </div>
          <div class="flex items-center space-x-4">
            <div class="w-6 h-6 flex items-center justify-center">
              <img
                src="{{ url_for('static', filename='images/header/mic.png') }}"
                alt="마이크"
                class="max-w-full max-h-full object-contain"
              />
            </div>
            <div class="w-6 h-6 flex items-center justify-center">
              <img
                src="{{ url_for('static', filename='images/header/search.png') }}"
                alt="검색"
                class="max-w-full max-h-full object-contain"
              />
            </div>
          </div>
        </header>

        <!-- 네비게이션 탭 -->
        <nav class="flex border-b border-green-300">
          <a
            href="#"
            class="flex-1 text-center py-3 border-b-4 autumn-border autumn-text-primary font-bold"
            >나의 이음</a
          >
          <a
            href="{{ url_for('company.company_list') }}"
            class="flex-1 text-center py-3 text-green-700 hover:text-emerald-600 transition-colors"
            >기업 이음</a
          >
          <a
            href="{{ url_for('jobs.job_list') }}"
            class="flex-1 text-center py-3 text-green-700 hover:text-emerald-600 transition-colors"
            >사람 이음</a
          >
        </nav>
      </div>

      <!-- 메인 컨텐츠 -->
      <main class="px-4 py-4 sm:px-6 bg-gradient-to-b from-green-50 to-white pb-24"></main>

      <!-- 하단 네비게이션 -->
      <footer
        class="fixed bottom-0 left-0 right-0 w-full bg-gradient-to-r from-green-100 to-emerald-100 border-t-2 autumn-border flex justify-around shadow-lg"
      >
        <a
          href="{{ url_for('map.show_map') }}"
          class="flex-1 flex flex-col items-center justify-center p-2 text-green-700 hover:text-emerald-600 transition-colors"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/map.png') }}"
              alt="지도"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs">지도</span>
        </a>
        <a
          href="{{ url_for('jobs.bookmark_list') }}"
          class="flex-1 flex flex-col items-center justify-center p-2 text-green-700 hover:text-emerald-600 transition-colors"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/favorite.png') }}"
              alt="찜"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs">찜</span>
        </a>
        <a
          href="{{ url_for('auth.main') }}"
          class="flex-1 flex flex-col items-center justify-center p-2 autumn-text-primary font-bold"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/home_filled.png') }}"
              alt="홈"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs">홈</span>
        </a>
        <a
          href="{{ url_for('chat.chat_list') }}"
          class="flex-1 flex flex-col items-center justify-center p-2 text-green-700 hover:text-emerald-600 transition-colors"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/chatting.png') }}"
              alt="채팅"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs">채팅</span>
        </a>
        <a
          href="{{ url_for('auth.profile') }}"
          class="flex-1 flex flex-col items-center justify-center p-2 text-green-700 hover:text-emerald-600 transition-colors"
        >
          <div class="w-6 h-6 mb-1 flex items-center justify-center">
            <img
              src="{{ url_for('static', filename='images/footer/profile.png') }}"
              alt="내정보"
              class="max-w-full max-h-full object-contain"
            />
          </div>
          <span class="text-xs">내정보</span>
        </a>
      </footer>
    </div>

    <script>
      // 얼굴 토글 스위치 상태 관리 (초록 페이지에서는 활성화 상태)
      let isToggleActive = true;

      // 토글 스위치 기능
      function updateAutumnToggleTheme() {
        const toggle = document.getElementById("autumn-face-toggle");
        const body = document.body;
        const container = document.getElementById("toggleContainer");
        const toggleText = document.getElementById("toggleText");

        if (toggle.checked) {
          // 활성화 상태 유지 (이미 초록 모드)
          body.classList.add("toggle-active");
          container.classList.add("active");
          toggleText.style.color = "#059669"; // 녹색
          isToggleActive = true;
        } else {
          // 비활성화 - 일반 모드로 전환
          body.classList.remove("toggle-active");
          container.classList.remove("active");
          toggleText.style.color = "#1e3a8a"; // 파란색
          isToggleActive = false;

          // 1초 후에 메인 페이지로 이동 (애니메이션 완료 후)
          setTimeout(() => {
            window.location.href =
              '{{ url_for("auth.main") }}?reset_toggle=true';
          }, 1000);
        }
      }

      // 페이지 로드 시 초기화
      document.addEventListener("DOMContentLoaded", function () {
        const toggle = document.getElementById("autumn-face-toggle");
        const body = document.body;
        const container = document.getElementById("toggleContainer");

        // 활성화 상태로 시작 (체크박스를 checked로 설정했으므로)
        body.classList.add("toggle-active");
        container.classList.add("active");
        isToggleActive = true;

        // 토글 변경 이벤트 리스너 추가
        toggle.addEventListener("change", updateAutumnToggleTheme);

        // 초기 상태 설정
        updateAutumnToggleTheme();
      });
    </script>
  </body>
</html>
